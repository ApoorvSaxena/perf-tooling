@import "normalize.less";

@grey        : #707173;
@grey-dark   : #333;
@blue        : #01A5B1;
@blue-bright : #93D5DB;
@white       : #DDF0F2;
@red         : #FF4136;

@filterWidth : 15rem;
@filterToggleWidth  : 3rem;
@filterToggleHeight : 3rem;


* {
  &, &:before, &:after {
    box-sizing : border-box;
  }
}

body {
  color : @grey;
  background : @grey;

  font-size   : 16px;
  font-family : Helvetica, Arial, sans-serif;
  font-weight : 200;

  text-align : center;

  overflow : hidden;
}

.container {
  position : absolute;

  top : 0;
  left : 0;
  right : 0;
  bottom : 0;

  overflow : auto;

  background : @white;

  transform : scale( 1, 1 ) translate3d( 0, 0, 0 );

  transition : transform 0.25s ease-in;

  #filter--toggle:checked ~ & {
    transform : translate3d( @filterWidth, 0, 0 );

    @media (min-width: 1000px) {
      transform : scale( 0.8, 0.8 ) translate3d( @filterWidth, 0, 0 );
    }
  }
}

a {
  color : @blue;
}

header {
  background : @blue;
  color : @white;

  padding : 0 ( @filterToggleWidth + 1 );
}

h1 {
  font-weight : 200;

  @media (min-width: 1000px) {
    display : inline-block;
    text-align : left;
  }
}

h2 {
  color : @blue;
  font-style : italic;

  &:before {
    content : '#';
  }
}

h3 {
  position : relative;

  padding : 0 0 0.5rem 0;

  &:before {
    position : absolute;

    content : '';

    top   : 100%;
    left  : 10%;
    right : 10%;

    height : 1px;

    border-bottom : 1px solid @blue;
  }
}

input[type="checkbox"] {
  + label {
    display    : block;
    text-align : right;

    line-height : 1.5rem;

    > div {
      float : left;
      position : relative;

      width  : 2.5rem;
      height : 1.5rem;

      margin : 0 auto 0.5rem;
      border-radius : 2rem;

      background : @grey;

      border : 0.125rem solid @white;

      transition : background 0.25s;

      &:before {
        position : absolute;

        content : '';

        width : 1rem;
        height : 1rem;

        top : 0.125rem;
        left : 0.125rem;

        background : @white;

        transition : left 0.25s;

        border-radius : 2rem;
      }
    }
  }

  &:checked {
    + label {
      > div {
        background : #3D9970;

        &:before {
          left : 1.125rem;
        }
      }
    }
  }
}

footer {
  margin  : 3rem 0 0 0;
  padding : 2rem 0 2rem 0;

  background : @blue;

  color : @white;

  a {
    color : @blue-bright;
    text-decoration : none;

    &:hover {
      color : lighten( @blue-bright, 10% );
    }
  }
}

.logo {
  display : block;

  margin : 1rem auto 0;
  max-width : 18rem;
}

.noun {
  display : block;

  padding : 0.5rem 0;

  color : @blue-bright;
}

.filters, .posts, .resources, .socials {
  list-style : none;

  &, li {
    margin : 0;
    padding : 0;
  }
}


.filterContainer {
  position  : absolute;

  left : 0;
  top  : 0;

  height : 100%;
  width : @filterWidth;

  background : @blue;

  text-align : left;
  color : @white;

  overflow : auto;

  z-index : 1;

  transform : translate3d( -100%, 0 ,0 );

  transition : transform 0.25s ease-in;

  box-shadow : inset -.25rem 0 .25rem -.125rem #333;

  #filter--toggle:checked ~ & {
    transform : translate3d( 0, 0 ,0 );
  }
}

.filter--headline {
  padding : 0.5rem 0;
  margin  : 0.5rem 1.5rem;

  text-transform : uppercase;

  border-bottom : 1px solid @white;
}

.filter--label {
  position : absolute;
  display : block;

  top : 1rem;
  left : 1rem;

  height : 0;
  width  : @filterToggleHeight;

  padding : @filterToggleHeight 0 0;
  overflow : hidden;

  background : @blue;

  cursor : pointer;

  z-index : 2;

  transform : translate3d( 0, 0, 0 );
  transition : transform 0.25s ease-in;

  &:hover, &:focus {
    background : lighten( @blue, 5 );
  }

  &:active {
    background : lighten( @blue, -5 );
  }

  > svg {
    position : absolute;

    top : 0.25rem;
    left : 0.25rem;

    width : 2.5rem;
    height : 2.5rem;

    pointer-events : none;
  }

  #filter--toggle:checked ~ & {
    transform : translate3d( @filterWidth, 0, 0 );
  }
}

.filter--toggle {
  display : none;
}

.filters {
  > li {
    padding : 0.25rem 1.5rem;
  }
  input {
    display : none;
  }
}

.filters {
  margin-bottom : 1rem;

  > li {
    position : relative;
  }
}

.posts {
  > li {
    position : relative;

    padding : 0.5rem 0 4rem 0;

    transition : background 0.25s ease-in;

    &:hover {
      background : lighten( @white, 5% );
    }

    @media (min-width: 600px) {
      display : inline-block;
      vertical-align : top;
      width : 50%;
      min-height : 410px;
    }

    @media (min-width: 1000px) {
      width : 33.33%;
      min-height : 375px;
    }

    @media (min-width: 1400px) {
      width : 25%;
      min-height : 300px;
    }
  }
}

.posts--content {
  padding : 0 2rem;
  font-style : italic;
}

.resources {
  padding : 0 0 1rem;

  li {
    position : relative;

    display : inline-block;

    text-align : left;

    vertical-align : top;

    margin : 0 0.25rem;
  }

  span {
    position    : absolute;
    right       : 1rem;
    top         : 0;
    padding     : 0.5rem 0;
    color       : white;
    line-height : 1.125;

    pointer-events : none;

    &:after {
      content: '☆';
      margin-left: 0.25rem;
    }

    @media (min-width: 1000px) {
      display : block;
      position : relative;

      right : auto;
      top   : auto;

      padding : 1.5rem 0 0;
      margin  : 0 0 0.5rem;

      text-align : center;

      color : @grey;

      &:after {
        position : absolute;

        top : 0;
        left : 0;
        right : 0;

        margin : 0;

        text-align : center;
        content : '☆';
      }
    }
  }

  a {
    display : block;

    width : 220px;

    padding : 0.5rem 1rem;
    margin  : 0 0 0.5rem 0;

    border-radius : 2rem;

    color : #fff;
    text-decoration : none;

    overflow : hidden;

    &.service {
      background : #7FDBFF;

      &:hover {
        background : lighten( #7FDBFF, 7% );
      }
    }

    &.cli {
      background : #001F3F;

      &:hover {
        background : lighten( #001F3F, 7% );
      }
    }

    &.chrome {
      background : #0074D9;

      &:hover {
        background : lighten( #0074D9, 7% );
      }
    }

    &.module {
      background : #3D9970;

      &:hover {
        background : lighten( #3D9970, 7% );
      }
    }

    &.grunt {
      background : #FF851B;

      &:hover {
        background : lighten( #FF851B, 7% );
      }
    }

    &.gulp {
      background : @red;

      &:hover {
        background : lighten( #FF4136, 7% );
      }
    }

    &.bookmarklet {
      background : #FFDC00;

      &:hover {
        background : lighten( #FFDC00, 7% );
      }
    }

    &.script {
      background : #85144B;

      &:hover {
        background : lighten( #85144B, 7% );
      }
    }

    > svg {
      display : none;
    }

    @media (min-width: 1000px) {
      width : 3rem;
      height : 3rem;

      padding : 0.5rem 1.5rem;

      border-radius : 50%;

      text-indent : -1000px;

      > svg {
        display : block;
        position : absolute;
        height : 2rem;
        width  : 2rem;

        top : 0.5rem;
        left : 0.5rem;

        pointer-events : none;
      }
    }
  }
}

.ribbon {
  display  : none;

  padding: 1rem 5rem;

  position : absolute;
  z-index  : 3;

  color : @white;

  right : 0;
  top   : 0;

  transform  : rotate(45deg) translate3d(5.75rem,-2rem,0);
  background : @red;

  text-decoration : none;
  text-transform : uppercase;

  &:hover , &:focus {
    background : lighten( @red, 5% );
  }

  &:active {
    background : lighten( @red, -5% );
  }

  @media (min-width: 1000px) {
    display : block;
  }
}

.socials {
  > li {
    display : inline-block;

    margin : 0 0.5rem;

    width  : 32px;
    height : 32px;

    overflow : hidden;
  }
}

.svgIcons {
  display : none;
}

.hashTag {
  font-size : 2rem;
  font-style : italic;

  color : @blue-bright;
}

@media (min-width: 1000px) {
  .tooltip {
    position: relative;
    text-decoration: none;

    &:before, &:after {
      /* At time of this creation, only Fx4 doing pseduo transitions */
      -webkit-transition: all 0.4s ease;
      -moz-transition   : all 0.4s ease;
      transition        : all 0.4s ease;

      opacity : 0;

      pointer-events : none;
    }

    &:before {
      position: absolute;
      bottom: 120%;

      content: '';

      border: 5px solid @grey;
      border-right: 5px solid transparent;
      border-bottom: 5px solid transparent;

      margin-bottom: -10px;

      left: 50%;

      z-index: 2;

      background: none;
    }

    &:after {
      content: attr(title);
      position: absolute;
      bottom: 120%;
      left: 50%;
      background: @grey;
      padding: 5px 15px;
      color: @white;

      border-radius        : 0.75rem 0.75rem 0.75rem 0;
      white-space: nowrap;

      z-index : 2;
    }

    &:hover:before, &:hover:after {
      bottom: 110%;
    }

    &:hover:after, &:hover:before {
      opacity: 1;
    }
  }
}

#contributors {
  ul {
    margin: 0;
    padding: 0;
  }

  li {
    display: inline-block;
    width: 42px;
    height: 42px;
    margin: 0 4px;
    border-radius: 3px;
    overflow: hidden;

    img {
      width: 42px;
      height: 42px;
    }
  }
}

.sponsor {
  max-width : 10rem;

  text-align : center;

  margin : 1rem auto;

  img {
    display : block;
  }
}

/**
 * HELPERS
 */

/*
 * Clearfix: contain floats
 *
 * For modern browsers
 * 1. The space content is one way to avoid an Opera bug when the
 *    `contenteditable` attribute is included anywhere else in the document.
 *    Otherwise it causes space to appear at the top and bottom of elements
 *    that receive the `clearfix` class.
 * 2. The use of `table` rather than `block` is only necessary if using
 *    `:before` to contain the top-margins of child elements.
 */

.clearfix:before,
.clearfix:after {
    content: " "; /* 1 */
    display: table; /* 2 */
}

.clearfix:after {
    clear: both;
}
